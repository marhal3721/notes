
- [第一章.MySQL架构与历史](#1)
	- [MySQL逻辑架构](#1.1)
	- [并发控制](#1.2)
	- [事务](#1.3)
	- [多版本并发控制](#1.4)
	- [MySQL的存储引擎](#1.5)
	- [MySQL时间线(Timeline)](#1.6)
	- [MySQL的开发模式](#1.7)
	- [总结](#1.8)


# <a id="1">MySQL架构与历史</a>

## <a id="1.1">MySQL逻辑架构</a>

[MySQL逻辑架构图例](./img/1.1.jpg)

* 最上层：大多基于网络的客户端/服务器的工具挥着服务都有类似的架构（如：链接处理、授权认证、安全等）
* 第二层: mysql核心功能。
	* 包括`查询解析`、`分析`、`优化`、`缓存`以及所有的`内置函数`(时间、日期、数学和加密函数)。
	* 所有跨存储引擎的功能都在这一层实现：`存储过程`、`触发器`、`视图`等
* 第三层：包含了存储引擎。
	* 存储引擎负责mysql中数据的存储和提取
	* 服务器通过api与存储引擎通信
	* 存储引擎不会解析sql（innodb例外，她会解析外键定义，因为mysql服务器本身没有实现该功能）
	* 不同的存储引擎不会相互通信，只是简单地响应上层服务器的请求

### 1.1.1 连接管理与安全性
* 每个客户端连接都会在服务器进程中拥有一个线程，该连接的查询只会在这个单独的线程中执行
* 连接mysql服务器认证
	* 基于用户名、原始主机信息和密码
	* 如果用了安全套接字（SSL）方式，还可以使用X.509证书认证
	* 连接成功后服务器会验证客户端执行操作的权限

### 1.1.2 优化与执行
* mysql解析查询&创建内部数据结构 -> 优化（重写查询、决定表的读取顺序、选择合适和索引）-> 执行
* select查询
	* 检查到查询缓存(Query Cache) -> 直接返回结果集
	* 未检查到查询缓存->查询解析->优化->执行

## <a id="1.2">并发控制</a>
* 只要有多个查询需要`在同一时刻修改数据`，都会产出并发控制的问题
* mysql在两个层面的并发控制：`服务器层`、`存储引擎层`

### <a id="1.2.1">读写锁</a>
* 



## <a id="1.3">事务</a>
## <a id="1.4">多版本并发控制</a>
## <a id="1.5">MySQL的存储引擎</a>
## <a id="1.6">MySQL时间线(Timeline)</a>
## <a id="1.7">MySQL的开发模式</a>
## <a id="1.8">总结</a>

